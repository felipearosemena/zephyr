{% import 'macros.twig' as macros %}

{% include 'includes/head.twig' %}

  <body class="{{ body_class }}">

    {% include 'includes/header.twig' %}

    <div class="page-wrap">

      <cart :cart="state.cart" :products="state.products" :is-active="state.cartActive"></cart>

      <transition-group name="fade">

        <div v-bind:key="sections.content" v-if="!state.transiting">
          <component v-bind:is='currentView'>
            <div class="page-view-wrap">
              {% block hero %}{% endblock %}

              <main class="page-content">
                {% block content %}
                {% endblock %}
              </main><!--.page-content-->

              <aside class="page-bottom" v-if="!state.transiting" v-bind:key="sections.bottom">
                {% block bottom %}
                {% endblock %}
              </aside>
            </div>
          </component>
        </div>

        {% include 'includes/newsletter-bar.twig' %}
        {% include 'includes/footer.twig' %}

      </transition-group>

    </div>

    {{ function('wp_footer') }}

  </body>

</html>
